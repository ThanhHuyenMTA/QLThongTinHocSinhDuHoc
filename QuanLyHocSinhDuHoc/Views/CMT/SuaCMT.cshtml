@model QuanLyHocSinhDuHoc.Models.Entities.CMT
@{
    ViewBag.Title = "SuaCMT";
    Layout = "~/Views/Share/_LayoutTrangChu.cshtml";
}

@{
    if (Model.LoaiCMT == 1)
    {
            @* Loại 1 *@
            <div class="">
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>Chỉnh sửa thông tin CMT Loại 1</h2>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <form class="form-horizontal form-label-left" method="post">
                                    <p id="messEditCMT" style="color:red;font-weight:bold;"></p>
                                    <div class=" item form-group">
                                        <button id="btn_fileCMT1Edit" type="button" onclick="$('#fileCMT1Edit').click()" class="btn btn-sm btn-primary" style="width:230px;">Chọn file</button>
                                        <input type="file" id="fileCMT1Edit" name="fileCMT1Edit" style="display: none;" class="form-control">
                                    </div>
                                    <div class="item form-group" >
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Số chứng minh <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="SoCMT" value=@Model.SoCMT type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Họ tên <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="HoTen" value="@Model.HoTen" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Ngày sinh <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" value="@Model.NgaySinh.ToString("yyyy-MM-dd")" name="NgaySinh" id="dtpNgaySinh1" type="date" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Quê quán
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.QueQuan" name="QueQuan" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nơi thường trú
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.NoiThuongTru" name="NoiThuongTru" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Tôn giáo
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" value="@Model.TonGiao" name="TonGiao" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Dân tộc
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" value="@Model.DanToc" name="DanToc" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Dấu vết riêng
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <textarea id="textarea" name="DauVetRieng" class="form-control col-md-7 col-xs-12">@Model.DauVetRieng</textarea>
                                        </div>
                                    </div>

                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Ngày cấp <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" value="@Model.NgayCap.ToString("yyyy-MM-dd")" name="NgayCap" id="dtpNgayCap1" type="date" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nơi cấp
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" value="@Model.NoiCap" name="NoiCap" type="text" />
                                        </div>
                                    </div>
                                    <div class="ln_solid"></div>
                                    <div class="form-group">
                                        <div class="col-md-6 col-md-offset-3">
                                            <button type="submit" id="submitEditCMT1" class="btn btn-success">Lưu thông tin</button>
                                            <a href="/HocSinh/DetailChung/@ViewBag.id_hs" class="btn btn-primary">Huỷ</a>
                                         </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    }
    if (Model.LoaiCMT == 2)
    {
            @* Loại 2 *@
            <div class="">
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>Thêm mới thông tin CMT Loại 2</h2>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <form class="form-horizontal form-label-left" method="post">
                                    <p id="messEditCMT" style="color:red;font-weight:bold;"></p>
                                    <div class=" item form-group">
                                        <button id="btn_fileCMT2Edit" type="button" onclick="$('#fileCMT2Edit').click()" class="btn btn-sm btn-primary" style="width:230px;">Chọn file</button>
                                        <input type="file" id="fileCMT2Edit" name="fileCMT2Edit" style="display: none;" class="form-control">
                                    </div>
                                    <div class="item form-group" >
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Số chứng minh <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.SoCMT" name="SoCMT" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Họ tên <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="HoTen" value="@Model.HoTen" required="required" placeholder="Họ tên" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Tên gọi khác <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="TenGoiKhac" value="@Model.TenGoiKhac" required="required" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Ngày sinh <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" type="date" name="NgaySinh" value="@Model.NgayCap.ToString("yyyy-MM-dd")" id="dtpNgaySinh2" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Quê quán
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.QueQuan" name="QueQuan" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nơi thường trú
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.NoiThuongTru" name="NoiThuongTru" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Giới tính
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            @{
                                                if (Model.GioiTinh == "Nam")
                                                {
                                                    <label class="radio-inline">
                                                        <input type="radio" name="GioiTinh" checked="checked" value="Nam" /> Nam
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" name="GioiTinh" value="Nữ" /> Nữ
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="radio-inline">
                                                        <input type="radio" name="GioiTinh" value="Nam" /> Nam
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" name="GioiTinh" checked="checked" value="Nữ" /> Nữ
                                                    </label>
                                                 }
                                            }
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Dân tộc
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" value="@Model.DanToc" name="DanToc" type="text" placeholder="Dân tộc" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Gía trị đến <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" value="@Model.GiaTriDen.Value.ToString("yyyy-MM-dd")" type="date" name="GiaTriDen" id="dtpGiaTriDen2" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Dấu vết riêng
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <textarea id="textarea" name="DauVetRieng" class="form-control col-md-7 col-xs-12">@Model.DauVetRieng</textarea>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Ngày cấp <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" type="date" value="@Model.NgayCap.ToString("yyyy-MM-dd")" name="NgayCap" id="dtpNgayCap2" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nơi cấp
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" name="NoiCap" value="@Model.NoiCap" type="text" />
                                        </div>
                                    </div>

                                    <div class="ln_solid"></div>
                                    <div class="form-group">
                                        <div class="col-md-6 col-md-offset-3">
                                            <button type="submit" id="submitEditCMT2" class="btn btn-success">Lưu thông tin</button>
                                            <a href="/HocSinh/DetailChung/@ViewBag.id_hs" class="btn btn-primary">Huỷ</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    }
    if (Model.LoaiCMT == 3)
    {
   
            @* Loại 3 *@
            <div class="">
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>Thêm mới thông tin CMT Loại 3</h2>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <form class="form-horizontal form-label-left" method="post">
                                    <p id="messEditCMT" style="color:red;font-weight:bold;"></p>
                                    <div class=" item form-group">
                                        <button id="btn_fileCMT3Edit" type="button" onclick="$('#fileCMT3Edit').click()" class="btn btn-sm btn-primary" style="width:230px;">Chọn file</button>
                                        <input type="file" id="fileCMT3Edit" name="fileCMT3Edit" style="display: none;" class="form-control">
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Số chứng minh <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.SoCMT" name="SoCMT" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Họ tên <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="HoTen" value="@Model.HoTen" required="required" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Tên gọi khác <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" value="@Model.TenGoiKhac" name="TenGoiKhac" required="required" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Ngày sinh <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" type="date" value="@Model.NgaySinh.ToString("yyyy-MM-dd")" name="NgaySinh" id="dtpNgaySinh3" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Quê quán
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="QueQuan" value="@Model.QueQuan" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nơi thường trú
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control col-md-7 col-xs-12" name="NoiThuongTru" value="@Model.NoiThuongTru" type="text" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Giới tính
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            @{
                                            if (Model.GioiTinh == "Nam")
                                            {
                                                <label class="radio-inline">
                                                    <input type="radio" name="GioiTinh" checked="checked" value="Nam" /> Nam
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="GioiTinh" value="Nữ" /> Nữ
                                                </label>
                                            }
                                            else
                                            {
                                                <label class="radio-inline">
                                                    <input type="radio" name="GioiTinh" value="Nam" /> Nam
                                                </label>
                                                <label class="radio-inline">
                                                    <input type="radio" name="GioiTinh" checked="checked" value="Nữ" /> Nữ
                                                </label>
                                            }
                                            }
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Quốc tịch
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" name="QuocTich" type="text" value="@Model.QuocTich" />
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Gía trị đến <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" type="date" value="@Model.GiaTriDen.Value.ToString("yyyy-MM-dd")" name="GiaTriDen" id="dtpGiaTriDen3" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Dấu vết riêng
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <textarea id="textarea" name="DauVetRieng" class="form-control col-md-7 col-xs-12">@Model.DauVetRieng</textarea>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Ngày cấp <span class="required"></span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input class="form-control has-feedback-left active dateLoad" type="date" value="@Model.NgayCap.ToString("yyyy-MM-dd")" name="NgayCap" id="dtpNgayCap3" /><span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                                        </div>
                                    </div>
                                    <div class="item form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nơi cấp
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input id="name" class="form-control col-md-7 col-xs-12" name="NoiCap" value="@Model.NoiCap" type="text" />
                                        </div>
                                    </div>

                                    <div class="ln_solid"></div>
                                    <div class="form-group">
                                        <div class="col-md-6 col-md-offset-3">
                                            <button type="submit" id="submitEditCMT3" class="btn btn-success">Lưu thông tin</button>
                                            <a href="/HocSinh/DetailChung/@ViewBag.id_hs" class="btn btn-primary">Huỷ</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    } 
       
} 
<script type="text/javascript">
    $(document).ready(function () {
        $("#fileCMT1Edit").change(function () {
            debugger;
            var data = new FormData();
            var files = $("#fileCMT1Edit").get(0).files;
            if (files.length > 0) {
                data.append("HelpSectionFile", files[0]);
            }
            $.ajax({
                url: "/CMT/UpLoadFileCMT1",
                type: "POST",
                processData: false,
                contentType: false,
                data: data,
                success: function (data) {
                    console.log(data);
                },
                error: function (er) {
                    alert(er);
                }

            });
        });
        $("#fileCMT2Edit").change(function () {
            debugger;
            var data = new FormData();
            var files = $("#fileCMT2Edit").get(0).files;
            if (files.length > 0) {
                data.append("HelpSectionFile", files[0]);
            }
            $.ajax({
                url: "/CMT/UpLoadFileCMT1",
                type: "POST",
                processData: false,
                contentType: false,
                data: data,
                success: function (data) {
                    console.log(data);
                },
                error: function (er) {
                    alert(er);
                }

            });
        });
        $("#fileCMT3Edit").change(function () {
            debugger;
            var data = new FormData();
            var files = $("#fileCMT3Edit").get(0).files;
            if (files.length > 0) {
                data.append("HelpSectionFile", files[0]);
            }
            $.ajax({
                url: "/CMT/UpLoadFileCMT1",
                type: "POST",
                processData: false,
                contentType: false,
                data: data,
                success: function (data) {
                    console.log(data);
                },
                error: function (er) {
                    alert(er);
                }

            });
        });
    });

    $(document).ready(function () {
        var time = $(".dateLoad").val();
        var dateControl = document.querySelector('input[type="date"]'); dateControl.value = time;
    });
    $("#submitEditCMT1").click(function () {
        debugger;
        var inputs = document.getElementsByTagName('input');
        for (var i = 0; i < inputs.length; i++) {
            if (inputs[i].value == "") {
                $("#messEditCMT").text("*****Thông tin không được để trống");
                return false;
            }
        }
    });
    $("#submitEditCMT2").click(function () {
        var inputs = document.getElementsByTagName('input');
        for (var i = 0; i < inputs.length; i++) {
            if (inputs[i].value == "") {
                $("#messEditCMT").text("*****Thông tin không được để trống");
                return false;
            }
        }
    });
    $("#submitEditCMT3").click(function () {
        var inputs = document.getElementsByTagName('input');
        for (var i = 0; i < inputs.length; i++) {
            if (inputs[i].value == "") {
                $("#messEditCMT").text("*****Thông tin không được để trống");
                return false;
            }
        }
    });
</script>